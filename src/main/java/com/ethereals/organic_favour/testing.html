<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Locate the user</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.47.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        #save_location {
            position: absolute;
            left: 0;
            top: 0;
            z-index: 10;
        }
    </style>
</head>
<body>

<div id='map'></div>
<button id='save_location'>Save Location</button>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiN2hlNHIxc2UiLCJhIjoiY2prcXpzdTV6MXpwMjN1czc2eG5uZjd6bSJ9.P4KTUArF5MU9eY-WrOCJdg';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/streets-v9',
        center: [-96, 37.8], // starting position
        zoom: 3 // starting zoom
    });

    // Add geolocate control to the map.
    map.addControl(new mapboxgl.GeolocateControl({
        positionOptions: {
            enableHighAccuracy: true
        },
        trackUserLocation: true
    }));

    // var options = {
    //     enableHighAccuracy: true,
    //     timeout: 5000,
    //     maximumAge: 0
    // };
    //
    // function success(pos) {
    //     var crd = pos.coords;
    //
    //     console.log('Your current position is:');
    //     console.log(Latitude : ${crd.latitude});
    //     console.log(Longitude: ${crd.longitude});
    //     console.log(More or less ${crd.accuracy} meters.);
    // }
    //
    // function error(err) {
    //     console.warn(ERROR(${err.code}): ${err.message});
    // }

    $('#save_location').on('click', function() {
        navigator.geolocation.getCurrentPosition(success, error, options);
    });


</script>

</body>
</html>